{% extends "layout.html" %}

{% block title_section_name %}Resultados de búsqueda - Pagos{% endblock %}

{% block header_section_name %}Resultados de búsqueda{% endblock %}

{% block head %}
<style>
    .results{
        flex: 1 0 auto;
        display: flex;
        flex-flow: column nowrap;
        align-items: stretch;
        padding: 16px;
    }
    .results .actions {
        margin-block-start: 32px;
        align-self: flex-start;
    }
</style>
{% endblock %}

{% block content %}
<div class="results">
    <h3>Usuarios con apellido {{last_name}}</h3>
    <div>
        <table class="index-table box">
            <thead>
                <tr>
                    <th>Id Miembro</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Tipo Doc.</th>
                    <th>Nro.Doc.</th>
                    <th>Género</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for mem in members %}
                <tr>
                    <td><a href="/miembros/{{ mem.id }}">{{mem.id}}</a></td>
                    <td>{{mem.first_name}}</td>
                    <td>{{mem.last_name}}</td>
                    <td>{{mem.personal_id_type}}</td>
                    <td>{{mem.personal_id}}</td>
                    <td>{{mem.gender}}</td>
                    <td>{{'Activo' if mem.membership_state else 'Moroso'}}</td>
                    <td>
                        <a class="button button--primary" href="/payments/member/{{ mem.id }}/invoices">Ver facturas</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <nav class="actions">
        <a class="button button--primary" href="/payments">Volver</a>
    </nav>
</div>
{% endblock %}